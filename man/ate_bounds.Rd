% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimate_bounds.R
\name{ate_bounds}
\alias{ate_bounds}
\title{Bounds on Average Treatment Effects (ATE)}
\usage{
ate_bounds(formula, treatment, data, y_min = 0, y_max = 1, alpha = 0.95, ...)
}
\arguments{
\item{formula}{A formula of the form \code{outcome ~ covariates}}

\item{treatment}{Name of the binary treatment variable (unquoted)}

\item{data}{A data frame containing the variables}

\item{y_min}{Minimum possible value of the outcome (default 0)}

\item{y_max}{Maximum possible value of the outcome (default 1)}

\item{alpha}{Confidence level for intervals (default 0.95)}

\item{...}{Additional arguments passed to \code{np::npregbw}}
}
\value{
An object of class \code{rbounds_ate} containing:
\itemize{
  \item \code{ate_lower}: Average lower bound on ATE
  \item \code{ate_upper}: Average upper bound on ATE
  \item \code{ate_lower_ci}: Lower confidence interval endpoint for ATE
  \item \code{ate_upper_ci}: Upper confidence interval endpoint for ATE
  \item \code{cate_lower}: Conditional ATE lower bounds (one per observation)
  \item \code{cate_upper}: Conditional ATE upper bounds (one per observation)
  \item \code{ey1_lower}, \code{ey1_upper}: Bounds on E[Y(1)|X]
  \item \code{ey0_lower}, \code{ey0_upper}: Bounds on E[Y(0)|X]
  \item \code{propensity}: Estimated P(D=1|X)
}
}
\description{
\code{ate_bounds} computes Manski worst-case bounds on the Average Treatment
Effect when treatment assignment is non-random (selection on unobservables).
}
\details{
The ATE is defined as \eqn{\tau = E[Y(1)] - E[Y(0)]} where \eqn{Y(1)} and
\eqn{Y(0)} are potential outcomes under treatment and control. Since we only
observe \eqn{Y(1)} for treated units and \eqn{Y(0)} for control units, the
counterfactual outcomes are not identified without assumptions.

Following Manski (1990, 2003), if outcomes are bounded (\eqn{y \in [y_{min}, y_{max}]}),
we can bound the potential outcome means and thus the ATE:
\deqn{\tau^L = E^L[Y(1)] - E^U[Y(0)]}
\deqn{\tau^U = E^U[Y(1)] - E^L[Y(0)]}
}
\examples{
\dontrun{
# Simulate data with selection into treatment
set.seed(123)
N <- 500
x <- rnorm(N)
# Treatment assignment depends on x (selection)
d <- rbinom(N, 1, pnorm(0.5 * x))
# Potential outcomes
y0 <- rbinom(N, 1, pnorm(-0.5 + 0.3 * x))
y1 <- rbinom(N, 1, pnorm(0.5 + 0.3 * x))
# Observed outcome
y <- d * y1 + (1 - d) * y0
df <- data.frame(y = y, x = x, d = d)

# Estimate ATE bounds
res <- ate_bounds(y ~ x, treatment = d, data = df)
res
}

}
\references{
Manski, C.F. (1990). "Nonparametric Bounds on Treatment Effects."
\emph{American Economic Review Papers and Proceedings}, 80(2), 319-323.

Manski, C.F. (2003). \emph{Partial Identification of Probability Distributions}.
Springer.
}
